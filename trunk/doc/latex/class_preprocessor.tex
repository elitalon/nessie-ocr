\hypertarget{class_preprocessor}{
\section{Preprocessor Class Reference}
\label{class_preprocessor}\index{Preprocessor@{Preprocessor}}
}
{\tt \#include $<$Preprocessor.h$>$}

Collaboration diagram for Preprocessor:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{class_preprocessor__coll__graph}
\end{center}
\end{figure}


\subsection{Detailed Description}
\hyperlink{class_preprocessor}{Preprocessor} of the OCR process. 

This class encapsulates all the methods related to preprocessing stage. Its task is to enhance the image quality by applying some techniques of image preprocessing theory and compute a number of parameters such as the optimal thresolding value or the background reference gray level

\begin{Desc}
\item[See also:]\hyperlink{class_clip}{Clip}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08 \end{Desc}


Definition at line 25 of file Preprocessor.h.\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
\hyperlink{class_preprocessor_da966c8b83e7c3bcd8759549c3cdf688}{Preprocessor} ()
\begin{CompactList}\small\item\em Constructor. \item\end{CompactList}\item 
unsigned char \hyperlink{class_preprocessor_1d8eaa1cf786941dbfa1eca95b46ce0c}{optimalThreshold} () const 
\begin{CompactList}\small\item\em Returns the optimal threshold found in the last clip used. \item\end{CompactList}\item 
void \hyperlink{class_preprocessor_1fc44d7d19944f3c3addd3a576c37414}{optimalThreshold} (const unsigned char \&threshold)
\begin{CompactList}\small\item\em Sets the optimal threshold to use in algorithms. \item\end{CompactList}\item 
unsigned char \hyperlink{class_preprocessor_9a2684181b5f43051fe53d7d2950dd36}{backgroundReferenceGrayLevel} () const 
\begin{CompactList}\small\item\em Returns the background reference gray level in the last clip used. \item\end{CompactList}\item 
void \hyperlink{class_preprocessor_03340329e31bd1f01ace27d77b5616ef}{backgroundReferenceGrayLevel} (const unsigned char \&grayLevel)
\begin{CompactList}\small\item\em Sets the background reference gray level to use in algorithms. \item\end{CompactList}\item 
double \hyperlink{class_preprocessor_0cccd23820430541f18f2b24dbfd0784}{noiseRemovalTime} () const 
\begin{CompactList}\small\item\em Returns the elapsed time while applying the 'isolated noise removal' algorithm. \item\end{CompactList}\item 
double \hyperlink{class_preprocessor_72dd29238c4202698e67dcb26a47f4b5}{optimalThresholdComputingTime} () const 
\begin{CompactList}\small\item\em Returns the elapsed time while founding the optimal threshold within the clip. \item\end{CompactList}\item 
double \hyperlink{class_preprocessor_3189cad5515476d54cc14effcf983fc7}{backgroundReferenceGrayLevelFindingTime} () const 
\begin{CompactList}\small\item\em Returns the elapsed time while computing the background reference gray level within the clip. \item\end{CompactList}\item 
unsigned char \hyperlink{class_preprocessor_0e146cafa6b8b31f4f4ed189a970db7a}{computeOptimalThreshold} (const \hyperlink{class_clip}{Clip} \&clip)
\begin{CompactList}\small\item\em Computes the optimal threshold value within a clip. \item\end{CompactList}\item 
unsigned char \hyperlink{class_preprocessor_19aa90451cf6f99854833c05d3e71270}{findBackgroundReferenceGrayLevel} (const \hyperlink{class_clip}{Clip} \&clip, const unsigned int \&referenceGrayLevelNeighbours=4)
\begin{CompactList}\small\item\em Computes the background reference gray level value within a clip. \item\end{CompactList}\item 
void \hyperlink{class_preprocessor_a365f69af48cae608071e9943f300dd5}{removeIsolatedNoise} (\hyperlink{class_clip}{Clip} \&clip, const unsigned int \&isolationCoefficient=1)
\begin{CompactList}\small\item\em Applies the 'isolated noise removal' algorithm. \item\end{CompactList}\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
\hypertarget{class_preprocessor_865b1e28dd9535b96f70727a550104fe}{
unsigned char \hyperlink{class_preprocessor_865b1e28dd9535b96f70727a550104fe}{optimalThreshold\_\-}}
\label{class_preprocessor_865b1e28dd9535b96f70727a550104fe}

\begin{CompactList}\small\item\em Optimal threshold value within the clip. \item\end{CompactList}\item 
\hypertarget{class_preprocessor_2c9e44ff6522b2ce35d6bc6161ad2680}{
unsigned char \hyperlink{class_preprocessor_2c9e44ff6522b2ce35d6bc6161ad2680}{backgroundReferenceGrayLevel\_\-}}
\label{class_preprocessor_2c9e44ff6522b2ce35d6bc6161ad2680}

\begin{CompactList}\small\item\em Background reference gray level. \item\end{CompactList}\item 
\hypertarget{class_preprocessor_386a5118bd982b2377c1fc5d67ebb7ac}{
double \hyperlink{class_preprocessor_386a5118bd982b2377c1fc5d67ebb7ac}{noiseRemovalTime\_\-}}
\label{class_preprocessor_386a5118bd982b2377c1fc5d67ebb7ac}

\begin{CompactList}\small\item\em Elapsed time when applying the 'isolated noise removal' algorithm. \item\end{CompactList}\item 
\hypertarget{class_preprocessor_d606fe1f0be7f7be60583f59278e2df6}{
double \hyperlink{class_preprocessor_d606fe1f0be7f7be60583f59278e2df6}{optimalThresholdComputingTime\_\-}}
\label{class_preprocessor_d606fe1f0be7f7be60583f59278e2df6}

\begin{CompactList}\small\item\em Elapsed time when converting the image to a grayscale colorspace. \item\end{CompactList}\item 
\hypertarget{class_preprocessor_140ea3fa7bbd4e8fef54912d65c4e926}{
double \hyperlink{class_preprocessor_140ea3fa7bbd4e8fef54912d65c4e926}{backgroundReferenceGrayLevelFindingTime\_\-}}
\label{class_preprocessor_140ea3fa7bbd4e8fef54912d65c4e926}

\begin{CompactList}\small\item\em Elapsed time when computing the background gray level. \item\end{CompactList}\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_preprocessor_da966c8b83e7c3bcd8759549c3cdf688}{
\index{Preprocessor@{Preprocessor}!Preprocessor@{Preprocessor}}
\index{Preprocessor@{Preprocessor}!Preprocessor@{Preprocessor}}
\subsubsection[Preprocessor]{\setlength{\rightskip}{0pt plus 5cm}Preprocessor::Preprocessor ()}}
\label{class_preprocessor_da966c8b83e7c3bcd8759549c3cdf688}


Constructor. 

\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08\end{Desc}
Initializes a \hyperlink{class_preprocessor}{Preprocessor} object 

Definition at line 18 of file Preprocessor.cpp.

\subsection{Member Function Documentation}
\hypertarget{class_preprocessor_1d8eaa1cf786941dbfa1eca95b46ce0c}{
\index{Preprocessor@{Preprocessor}!optimalThreshold@{optimalThreshold}}
\index{optimalThreshold@{optimalThreshold}!Preprocessor@{Preprocessor}}
\subsubsection[optimalThreshold]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Preprocessor::optimalThreshold () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_preprocessor_1d8eaa1cf786941dbfa1eca95b46ce0c}


Returns the optimal threshold found in the last clip used. 

\begin{Desc}
\item[Returns:]Current optimal threshold computed from the last clip used\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08 \end{Desc}


Definition at line 193 of file Preprocessor.h.\hypertarget{class_preprocessor_1fc44d7d19944f3c3addd3a576c37414}{
\index{Preprocessor@{Preprocessor}!optimalThreshold@{optimalThreshold}}
\index{optimalThreshold@{optimalThreshold}!Preprocessor@{Preprocessor}}
\subsubsection[optimalThreshold]{\setlength{\rightskip}{0pt plus 5cm}void Preprocessor::optimalThreshold (const unsigned char \& {\em threshold})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_preprocessor_1fc44d7d19944f3c3addd3a576c37414}


Sets the optimal threshold to use in algorithms. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em threshold}]A value between 0 and 255 that stablishes the optimal threshold of a clip\end{description}
\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08 \end{Desc}


Definition at line 202 of file Preprocessor.h.\hypertarget{class_preprocessor_9a2684181b5f43051fe53d7d2950dd36}{
\index{Preprocessor@{Preprocessor}!backgroundReferenceGrayLevel@{backgroundReferenceGrayLevel}}
\index{backgroundReferenceGrayLevel@{backgroundReferenceGrayLevel}!Preprocessor@{Preprocessor}}
\subsubsection[backgroundReferenceGrayLevel]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Preprocessor::backgroundReferenceGrayLevel () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_preprocessor_9a2684181b5f43051fe53d7d2950dd36}


Returns the background reference gray level in the last clip used. 

\begin{Desc}
\item[Returns:]Reference background gray level in the last clip used\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08 \end{Desc}


Definition at line 211 of file Preprocessor.h.\hypertarget{class_preprocessor_03340329e31bd1f01ace27d77b5616ef}{
\index{Preprocessor@{Preprocessor}!backgroundReferenceGrayLevel@{backgroundReferenceGrayLevel}}
\index{backgroundReferenceGrayLevel@{backgroundReferenceGrayLevel}!Preprocessor@{Preprocessor}}
\subsubsection[backgroundReferenceGrayLevel]{\setlength{\rightskip}{0pt plus 5cm}void Preprocessor::backgroundReferenceGrayLevel (const unsigned char \& {\em grayLevel})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_preprocessor_03340329e31bd1f01ace27d77b5616ef}


Sets the background reference gray level to use in algorithms. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em grayLevel}]Background reference gray level to use in algorithms\end{description}
\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08 \end{Desc}


Definition at line 220 of file Preprocessor.h.\hypertarget{class_preprocessor_0cccd23820430541f18f2b24dbfd0784}{
\index{Preprocessor@{Preprocessor}!noiseRemovalTime@{noiseRemovalTime}}
\index{noiseRemovalTime@{noiseRemovalTime}!Preprocessor@{Preprocessor}}
\subsubsection[noiseRemovalTime]{\setlength{\rightskip}{0pt plus 5cm}double Preprocessor::noiseRemovalTime () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_preprocessor_0cccd23820430541f18f2b24dbfd0784}


Returns the elapsed time while applying the 'isolated noise removal' algorithm. 

\begin{Desc}
\item[Returns:]Elapsed time when applying the 'isolated noise removal' algorithm\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08 \end{Desc}


Definition at line 229 of file Preprocessor.h.\hypertarget{class_preprocessor_72dd29238c4202698e67dcb26a47f4b5}{
\index{Preprocessor@{Preprocessor}!optimalThresholdComputingTime@{optimalThresholdComputingTime}}
\index{optimalThresholdComputingTime@{optimalThresholdComputingTime}!Preprocessor@{Preprocessor}}
\subsubsection[optimalThresholdComputingTime]{\setlength{\rightskip}{0pt plus 5cm}double Preprocessor::optimalThresholdComputingTime () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_preprocessor_72dd29238c4202698e67dcb26a47f4b5}


Returns the elapsed time while founding the optimal threshold within the clip. 

\begin{Desc}
\item[Returns:]Elapsed time while founding the optimal threshold within the clip\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08 \end{Desc}


Definition at line 238 of file Preprocessor.h.\hypertarget{class_preprocessor_3189cad5515476d54cc14effcf983fc7}{
\index{Preprocessor@{Preprocessor}!backgroundReferenceGrayLevelFindingTime@{backgroundReferenceGrayLevelFindingTime}}
\index{backgroundReferenceGrayLevelFindingTime@{backgroundReferenceGrayLevelFindingTime}!Preprocessor@{Preprocessor}}
\subsubsection[backgroundReferenceGrayLevelFindingTime]{\setlength{\rightskip}{0pt plus 5cm}double Preprocessor::backgroundReferenceGrayLevelFindingTime () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_preprocessor_3189cad5515476d54cc14effcf983fc7}


Returns the elapsed time while computing the background reference gray level within the clip. 

\begin{Desc}
\item[Returns:]Elapsed time while computing the background reference gray level\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-08 \end{Desc}


Definition at line 247 of file Preprocessor.h.\hypertarget{class_preprocessor_0e146cafa6b8b31f4f4ed189a970db7a}{
\index{Preprocessor@{Preprocessor}!computeOptimalThreshold@{computeOptimalThreshold}}
\index{computeOptimalThreshold@{computeOptimalThreshold}!Preprocessor@{Preprocessor}}
\subsubsection[computeOptimalThreshold]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Preprocessor::computeOptimalThreshold (const {\bf Clip} \& {\em clip})}}
\label{class_preprocessor_0e146cafa6b8b31f4f4ed189a970db7a}


Computes the optimal threshold value within a clip. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em clip}]The clip where applying the algorithm over\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The optimal threshold of the clip\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-10\end{Desc}
To compute the optimal threshold we follow the strategy proposed by Sonka M., Hlavac V. and Boyle R. in \char`\"{}Image Processing, Analysis and Machine Vision\char`\"{} (Thomson Learning, 2008). The target is to find a mean value between the mean value of background's gray level and the mean value of objects' gray level, assuming we have an initial threshold value. That initial threshold is in fact provided by the \hyperlink{class_preprocessor_19aa90451cf6f99854833c05d3e71270}{Preprocessor::findBackgroundReferenceGrayLevel} method. 

Definition at line 32 of file Preprocessor.cpp.

Referenced by Recognizer::obtainText().\hypertarget{class_preprocessor_19aa90451cf6f99854833c05d3e71270}{
\index{Preprocessor@{Preprocessor}!findBackgroundReferenceGrayLevel@{findBackgroundReferenceGrayLevel}}
\index{findBackgroundReferenceGrayLevel@{findBackgroundReferenceGrayLevel}!Preprocessor@{Preprocessor}}
\subsubsection[findBackgroundReferenceGrayLevel]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Preprocessor::findBackgroundReferenceGrayLevel (const {\bf Clip} \& {\em clip}, \/  const unsigned int \& {\em referenceGrayLevelNeighbours} = {\tt 4})}}
\label{class_preprocessor_19aa90451cf6f99854833c05d3e71270}


Computes the background reference gray level value within a clip. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em clip}]The clip where applying the algorithm over \item[{\em referenceGrayLevelNeighbours}]Number of neighbours of the more frequent gray level to explore on each direction\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The reference gray level of the background\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-10\end{Desc}
To find the reference gray level of the background it is assumed that there are more pixels belonging to the background than belonging to the foreground. Then, we search the more frequent gray level and its neighbours. Finally, we compute a gray level weighted mean using all those values. 

Definition at line 86 of file Preprocessor.cpp.

Referenced by computeOptimalThreshold(), and removeIsolatedNoise().\hypertarget{class_preprocessor_a365f69af48cae608071e9943f300dd5}{
\index{Preprocessor@{Preprocessor}!removeIsolatedNoise@{removeIsolatedNoise}}
\index{removeIsolatedNoise@{removeIsolatedNoise}!Preprocessor@{Preprocessor}}
\subsubsection[removeIsolatedNoise]{\setlength{\rightskip}{0pt plus 5cm}void Preprocessor::removeIsolatedNoise ({\bf Clip} \& {\em clip}, \/  const unsigned int \& {\em isolationCoefficient} = {\tt 1})}}
\label{class_preprocessor_a365f69af48cae608071e9943f300dd5}


Applies the 'isolated noise removal' algorithm. 

\begin{Desc}
\item[Remarks:]You MUST call \hyperlink{class_preprocessor_0e146cafa6b8b31f4f4ed189a970db7a}{Preprocessor::computeOptimalThreshold} method before calling this, since the optimalThreshold attribute is used internally to know whether a pixel is noisy or not.\end{Desc}
\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftrightarrow$} {\em clip}]The clip where applying the algorithm over \item[{\em isolationCoefficient}]The maximum noisy neighbours for a pixel to consider it as isolated\end{description}
\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-10\end{Desc}
The 'isolated noise removal' algorithm tries to eliminate isolated noisy pixels from an clip. The isolationCoefficient parameter defines how much isolated should be a noisy pixel to be removed. That means a noisy pixel will be removed whenever it has as much neighbours whose gray level is over a threshold value as isolationCoefficient. 

Definition at line 150 of file Preprocessor.cpp.

Referenced by Recognizer::obtainText().

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
\hyperlink{_preprocessor_8h}{Preprocessor.h (137)}\item 
\hyperlink{_preprocessor_8cpp}{Preprocessor.cpp (137)}\end{CompactItemize}
