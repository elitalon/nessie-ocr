\hypertarget{class_recognizer}{
\section{Recognizer Class Reference}
\label{class_recognizer}\index{Recognizer@{Recognizer}}
}
{\tt \#include $<$Recognizer.hpp$>$}

Collaboration diagram for Recognizer:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{class_recognizer__coll__graph}
\end{center}
\end{figure}


\subsection{Detailed Description}
Manager of the whole OCR process. 

This class encapsulates all the stages related to the optical character recognition process of every clip within a newspaper's page. For each image provided (via constructors) representing the page, you can obtain its text and a number of statistics regarding the recognition process performance.

At the moment, this class manages the press clips within an image loaded with the Magick++ utilities. The newspaper pages should be an image that comes in several formats, such JPEG, PDF, PNG, etc. The Magick++ library (an API for the ImageMagick suite) provides an abstraction layer to keep the code independent from the image format. The idea behind this class is to encapsulate all the interactions with Magick++, so that the rest of the classes have an unified way to work.

In future modifications any library may be added to load the images. A developer should overload a \hyperlink{class_recognizer_acc4244738f2577a0c344c3b3af22eb0}{loadImage()} method, modify the constructor \hyperlink{class_recognizer_50ffc181208bb07ae651aba6249ee7e4}{Recognizer(const std::string \&path)} or add a new constructor with specific parameters, and overload a \hyperlink{class_recognizer_559f62a3e3e2d0b799bab38e975b4b67}{writeExternalImage()} method.

\begin{Desc}
\item[See also:]\hyperlink{class_clip}{Clip}, \hyperlink{class_text}{Text}, \hyperlink{class_statistics}{Statistics}, \href{http://www.imagemagick.org/Magick++/}{\tt Magick++ API}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-10 \end{Desc}


Definition at line 42 of file Recognizer.hpp.\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
\hyperlink{class_recognizer_50ffc181208bb07ae651aba6249ee7e4}{Recognizer} (const std::string \&path)
\begin{CompactList}\small\item\em Constructor. \item\end{CompactList}\item 
\hyperlink{class_recognizer_01e0b85a6ad9cfbf6fcab4fe4b294640}{Recognizer} (Magick::Image \&image)
\begin{CompactList}\small\item\em Constructor. \item\end{CompactList}\item 
void \hyperlink{class_recognizer_008a0ea69a912ff54882dd20d18adcf9}{obtainText} ()
\begin{CompactList}\small\item\em Recognizes the text within the whole page at once. \item\end{CompactList}\item 
void \hyperlink{class_recognizer_4b3b27b3746edcf831d142eddfb81f19}{obtainText} (const std::vector$<$ \hyperlink{class_clip_location}{ClipLocation} $>$ \&coordinates)
\begin{CompactList}\small\item\em Recognizes the text within multiple press clips whose coordinates are passed. \item\end{CompactList}\item 
void \hyperlink{class_recognizer_d117f344b1f77711e6cbab0f15dbc269}{obtainText} (const unsigned int \&x, const unsigned int \&y, unsigned int \&height, unsigned int \&width)
\begin{CompactList}\small\item\em Recognizes the text within a single press clip located at coordinates (x,y). \item\end{CompactList}\item 
const \hyperlink{class_text}{Text} \& \hyperlink{class_recognizer_c5d20b511888a60a6c1a81c0a4206ec2}{text} (const unsigned int \&label=0) const 
\begin{CompactList}\small\item\em Returns the text of a single clip. \item\end{CompactList}\item 
const std::vector$<$ \hyperlink{class_text}{Text} $>$ \& \hyperlink{class_recognizer_2a365c34f1447cdc3311d311e02bf2ed}{texts} () const 
\begin{CompactList}\small\item\em Returns the text of every loaded clip. \item\end{CompactList}\item 
const \hyperlink{class_statistics}{Statistics} \& \hyperlink{class_recognizer_b941b1ad42c3bacb3c829acf7fc689de}{statistic} (const unsigned int \&label=0) const 
\begin{CompactList}\small\item\em Returns the statistical data regarding the recognition process of a single clip. \item\end{CompactList}\item 
const std::vector$<$ \hyperlink{class_statistics}{Statistics} $>$ \& \hyperlink{class_recognizer_8b38356d2741969e67cd6b4f507897ba}{statistics} () const 
\begin{CompactList}\small\item\em Returns the statistical data regarding the recognition process of every loaded clip. \item\end{CompactList}\item 
void \hyperlink{class_recognizer_559f62a3e3e2d0b799bab38e975b4b67}{writeExternalImage} (Magick::Image \&externalImage) const 
\begin{CompactList}\small\item\em Writes the information of the internal data into an external image. \item\end{CompactList}\end{CompactItemize}
\subsection*{Private Member Functions}
\begin{CompactItemize}
\item 
void \hyperlink{class_recognizer_acc4244738f2577a0c344c3b3af22eb0}{loadImage} (Magick::Image \&image)
\begin{CompactList}\small\item\em Loads an Image object created with the Magick++ API into the internal data structure. \item\end{CompactList}\item 
void \hyperlink{class_recognizer_0779d8bb035f7d51cb26fdc3d410e019}{updateImage} (const \hyperlink{class_clip}{Clip} \&clip)
\begin{CompactList}\small\item\em Writes the information of a clip into the underlying image. \item\end{CompactList}\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
\hypertarget{class_recognizer_11fc98298edb98302bdd69e71dfb8d13}{
std::vector$<$ unsigned char $>$ \hyperlink{class_recognizer_11fc98298edb98302bdd69e71dfb8d13}{image\_\-}}
\label{class_recognizer_11fc98298edb98302bdd69e71dfb8d13}

\begin{CompactList}\small\item\em Underlying image where where clip belongs to. \item\end{CompactList}\item 
\hypertarget{class_recognizer_c9da570bfac5adee1dcd253fc76ab747}{
unsigned int \hyperlink{class_recognizer_c9da570bfac5adee1dcd253fc76ab747}{height\_\-}}
\label{class_recognizer_c9da570bfac5adee1dcd253fc76ab747}

\begin{CompactList}\small\item\em Height of the underlying image. \item\end{CompactList}\item 
\hypertarget{class_recognizer_401c3d8736c8779ad69f92c4c2703c26}{
unsigned int \hyperlink{class_recognizer_401c3d8736c8779ad69f92c4c2703c26}{width\_\-}}
\label{class_recognizer_401c3d8736c8779ad69f92c4c2703c26}

\begin{CompactList}\small\item\em Width of the underlying image. \item\end{CompactList}\item 
\hypertarget{class_recognizer_853b3b92f3e02587e949acba44ec0e2e}{
std::vector$<$ \hyperlink{class_text}{Text} $>$ \hyperlink{class_recognizer_853b3b92f3e02587e949acba44ec0e2e}{texts\_\-}}
\label{class_recognizer_853b3b92f3e02587e949acba44ec0e2e}

\begin{CompactList}\small\item\em \hyperlink{class_text}{Text} obtained after the recognition process. \item\end{CompactList}\item 
\hypertarget{class_recognizer_c30a3d75c7c7cc3b3422f5aa4f594b5a}{
std::vector$<$ \hyperlink{class_statistics}{Statistics} $>$ \hyperlink{class_recognizer_c30a3d75c7c7cc3b3422f5aa4f594b5a}{statistics\_\-}}
\label{class_recognizer_c30a3d75c7c7cc3b3422f5aa4f594b5a}

\begin{CompactList}\small\item\em \hyperlink{class_statistics}{Statistics} gathered during the recognition process. \item\end{CompactList}\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_recognizer_50ffc181208bb07ae651aba6249ee7e4}{
\index{Recognizer@{Recognizer}!Recognizer@{Recognizer}}
\index{Recognizer@{Recognizer}!Recognizer@{Recognizer}}
\subsubsection[Recognizer]{\setlength{\rightskip}{0pt plus 5cm}Recognizer::Recognizer (const std::string \& {\em path})}}
\label{class_recognizer_50ffc181208bb07ae651aba6249ee7e4}


Constructor. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em path}]Relative path to the image within the filesystem\end{description}
\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-10\end{Desc}
Creates a new \hyperlink{class_recognizer}{Recognizer} object loading the image from disk. If the image is multi-frame only the first one is taken, e.g. the first page of a PDF with multiple pages. 

Definition at line 21 of file Recognizer.cpp.\hypertarget{class_recognizer_01e0b85a6ad9cfbf6fcab4fe4b294640}{
\index{Recognizer@{Recognizer}!Recognizer@{Recognizer}}
\index{Recognizer@{Recognizer}!Recognizer@{Recognizer}}
\subsubsection[Recognizer]{\setlength{\rightskip}{0pt plus 5cm}Recognizer::Recognizer (Magick::Image \& {\em image})}}
\label{class_recognizer_01e0b85a6ad9cfbf6fcab4fe4b294640}


Constructor. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em image}]An Image object from the Magick++ API previously loaded\end{description}
\end{Desc}
\begin{Desc}
\item[See also:]\href{http://www.imagemagick.org/Magick++/Image.html}{\tt Image}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-10\end{Desc}
Creates a new \hyperlink{class_recognizer}{Recognizer} object from an image loaded externally with methods from Magick++ API. If the image is multi-frame only the first one is taken, e.g. the first page of a PDF with multiple pages. 

Definition at line 43 of file Recognizer.cpp.

\subsection{Member Function Documentation}
\hypertarget{class_recognizer_008a0ea69a912ff54882dd20d18adcf9}{
\index{Recognizer@{Recognizer}!obtainText@{obtainText}}
\index{obtainText@{obtainText}!Recognizer@{Recognizer}}
\subsubsection[obtainText]{\setlength{\rightskip}{0pt plus 5cm}void Recognizer::obtainText ()}}
\label{class_recognizer_008a0ea69a912ff54882dd20d18adcf9}


Recognizes the text within the whole page at once. 

\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-09\end{Desc}
It is assumed that the image is a clip itself we can obtain the text processing the whole image. Since there is only one clip you can gather its text and its statistics by simply calling \hyperlink{class_recognizer_c5d20b511888a60a6c1a81c0a4206ec2}{text()} and \hyperlink{class_recognizer_8b38356d2741969e67cd6b4f507897ba}{statistics()} with no parameters at all. 

Definition at line 59 of file Recognizer.cpp.

Referenced by main(), and obtainText().\hypertarget{class_recognizer_4b3b27b3746edcf831d142eddfb81f19}{
\index{Recognizer@{Recognizer}!obtainText@{obtainText}}
\index{obtainText@{obtainText}!Recognizer@{Recognizer}}
\subsubsection[obtainText]{\setlength{\rightskip}{0pt plus 5cm}void Recognizer::obtainText (const std::vector$<$ {\bf ClipLocation} $>$ \& {\em coordinates})}}
\label{class_recognizer_4b3b27b3746edcf831d142eddfb81f19}


Recognizes the text within multiple press clips whose coordinates are passed. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em coordinates}]A list of coordinates to locate a number of clips within the page\end{description}
\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-13\end{Desc}
Each set of points provides us a clip that can be located within the page. 

Definition at line 69 of file Recognizer.cpp.\hypertarget{class_recognizer_d117f344b1f77711e6cbab0f15dbc269}{
\index{Recognizer@{Recognizer}!obtainText@{obtainText}}
\index{obtainText@{obtainText}!Recognizer@{Recognizer}}
\subsubsection[obtainText]{\setlength{\rightskip}{0pt plus 5cm}void Recognizer::obtainText (const unsigned int \& {\em x}, \/  const unsigned int \& {\em y}, \/  unsigned int \& {\em height}, \/  unsigned int \& {\em width})}}
\label{class_recognizer_d117f344b1f77711e6cbab0f15dbc269}


Recognizes the text within a single press clip located at coordinates (x,y). 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em x}]Top left-most pixel X coordinate \item[{\em y}]Top left-most pixel Y coordinate \item[{\em height}]Clip's height \item[{\em width}]Clip's width\end{description}
\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-13\end{Desc}
If the clip falls outside the image an exception is thrown unless it can be truncated safety. By default the text extracted and the statistical data regarding the recognition process are saved in the first position of internal data structures. That means you can gather them by simply calling \hyperlink{class_recognizer_c5d20b511888a60a6c1a81c0a4206ec2}{text()} and \hyperlink{class_recognizer_8b38356d2741969e67cd6b4f507897ba}{statistics()} with no parameters at all. 

Definition at line 91 of file Recognizer.cpp.\hypertarget{class_recognizer_c5d20b511888a60a6c1a81c0a4206ec2}{
\index{Recognizer@{Recognizer}!text@{text}}
\index{text@{text}!Recognizer@{Recognizer}}
\subsubsection[text]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Text} \& Recognizer::text (const unsigned int \& {\em label} = {\tt 0}) const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_recognizer_c5d20b511888a60a6c1a81c0a4206ec2}


Returns the text of a single clip. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em label}]A number that tells the clip where the requested text belongs to\end{description}
\end{Desc}
\begin{Desc}
\item[See also:]\hyperlink{class_text}{Text}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-13 \end{Desc}


Definition at line 237 of file Recognizer.hpp.\hypertarget{class_recognizer_2a365c34f1447cdc3311d311e02bf2ed}{
\index{Recognizer@{Recognizer}!texts@{texts}}
\index{texts@{texts}!Recognizer@{Recognizer}}
\subsubsection[texts]{\setlength{\rightskip}{0pt plus 5cm}const std::vector$<$ {\bf Text} $>$ \& Recognizer::texts () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_recognizer_2a365c34f1447cdc3311d311e02bf2ed}


Returns the text of every loaded clip. 

\begin{Desc}
\item[Returns:]A list of texts recognized in the clips previously loaded\end{Desc}
\begin{Desc}
\item[See also:]\hyperlink{class_text}{Text}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-13 \end{Desc}


Definition at line 249 of file Recognizer.hpp.\hypertarget{class_recognizer_b941b1ad42c3bacb3c829acf7fc689de}{
\index{Recognizer@{Recognizer}!statistic@{statistic}}
\index{statistic@{statistic}!Recognizer@{Recognizer}}
\subsubsection[statistic]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Statistics} \& Recognizer::statistic (const unsigned int \& {\em label} = {\tt 0}) const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_recognizer_b941b1ad42c3bacb3c829acf7fc689de}


Returns the statistical data regarding the recognition process of a single clip. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em label}]A number that tells the clip where the requested statistical data belongs to\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Statistical data about the recognition process of a single clip\end{Desc}
\begin{Desc}
\item[See also:]\hyperlink{class_statistics}{Statistics}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-13 \end{Desc}


Definition at line 258 of file Recognizer.hpp.

Referenced by main().\hypertarget{class_recognizer_8b38356d2741969e67cd6b4f507897ba}{
\index{Recognizer@{Recognizer}!statistics@{statistics}}
\index{statistics@{statistics}!Recognizer@{Recognizer}}
\subsubsection[statistics]{\setlength{\rightskip}{0pt plus 5cm}const std::vector$<$ {\bf Statistics} $>$ \& Recognizer::statistics () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_recognizer_8b38356d2741969e67cd6b4f507897ba}


Returns the statistical data regarding the recognition process of every loaded clip. 

\begin{Desc}
\item[Returns:]Statistical data about the recognition process of every clip within the image\end{Desc}
\begin{Desc}
\item[See also:]\hyperlink{class_statistics}{Statistics}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-13 \end{Desc}


Definition at line 270 of file Recognizer.hpp.\hypertarget{class_recognizer_559f62a3e3e2d0b799bab38e975b4b67}{
\index{Recognizer@{Recognizer}!writeExternalImage@{writeExternalImage}}
\index{writeExternalImage@{writeExternalImage}!Recognizer@{Recognizer}}
\subsubsection[writeExternalImage]{\setlength{\rightskip}{0pt plus 5cm}void Recognizer::writeExternalImage (Magick::Image \& {\em externalImage}) const}}
\label{class_recognizer_559f62a3e3e2d0b799bab38e975b4b67}


Writes the information of the internal data into an external image. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em externalImage}]The destination Image object from the Magick++ API previously created\end{description}
\end{Desc}
\begin{Desc}
\item[Postcondition:]The external image is converted to a grayscale colorspace and its pixels are overwritten according to the information of the internal image\end{Desc}
\begin{Desc}
\item[See also:]\href{http://www.imagemagick.org/Magick++/Image.html}{\tt Image}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-10\end{Desc}
If either the source or the target are bigger or smaller than its counterpart, only the pixels whose coordinates match are changed. 

Definition at line 166 of file Recognizer.cpp.

Referenced by main().\hypertarget{class_recognizer_acc4244738f2577a0c344c3b3af22eb0}{
\index{Recognizer@{Recognizer}!loadImage@{loadImage}}
\index{loadImage@{loadImage}!Recognizer@{Recognizer}}
\subsubsection[loadImage]{\setlength{\rightskip}{0pt plus 5cm}void Recognizer::loadImage (Magick::Image \& {\em image})\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_recognizer_acc4244738f2577a0c344c3b3af22eb0}


Loads an Image object created with the Magick++ API into the internal data structure. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em image}]An Image object from the Magick++ API previously created\end{description}
\end{Desc}
\begin{Desc}
\item[Postcondition:]The internal image is converted to a grayscale colorspace\end{Desc}
\begin{Desc}
\item[See also:]\href{http://www.imagemagick.org/Magick++/Image.html}{\tt Image}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-10\end{Desc}
The image is automatically converted into a grayscale colorspace according with the RGB values within the original source. If the image comes already in a grayscale colorspace no conversion is applied. 

Definition at line 223 of file Recognizer.cpp.

Referenced by Recognizer().\hypertarget{class_recognizer_0779d8bb035f7d51cb26fdc3d410e019}{
\index{Recognizer@{Recognizer}!updateImage@{updateImage}}
\index{updateImage@{updateImage}!Recognizer@{Recognizer}}
\subsubsection[updateImage]{\setlength{\rightskip}{0pt plus 5cm}void Recognizer::updateImage (const {\bf Clip} \& {\em clip})\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_recognizer_0779d8bb035f7d51cb26fdc3d410e019}


Writes the information of a clip into the underlying image. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em clip}]The clip where the new data is taken\end{description}
\end{Desc}
\begin{Desc}
\item[See also:]\hyperlink{class_clip}{Clip}\end{Desc}
\begin{Desc}
\item[Author:]Eliezer Talón (\href{mailto:elitalon@gmail.com}{\tt elitalon@gmail.com}) \end{Desc}
\begin{Desc}
\item[Date:]2008-10-13\end{Desc}
Since the only way of passing a \hyperlink{class_clip}{Clip} object to this method is invoking \hyperlink{class_recognizer_008a0ea69a912ff54882dd20d18adcf9}{Recognizer::obtainText()}, and the dimensions are controlled inside that method, here it is assumed that all the coordinates are valid. 

Definition at line 258 of file Recognizer.cpp.

Referenced by obtainText().

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
\hyperlink{_recognizer_8hpp}{Recognizer.hpp (152)}\item 
\hyperlink{_recognizer_8cpp}{Recognizer.cpp (152)}\end{CompactItemize}
