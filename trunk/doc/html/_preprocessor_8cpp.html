<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NessieOcr: Preprocessor.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Preprocessor.cpp File Reference</h1>Definition of <a class="el" href="class_preprocessor.html" title="Preprocessor of the OCR process.">Preprocessor</a> class.  
<a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="_preprocessor_8hpp-source.html">Preprocessor.hpp</a>&quot;</code><br>
<code>#include &lt;boost/timer.hpp&gt;</code><br>
<code>#include &lt;vector&gt;</code><br>
<code>#include &lt;set&gt;</code><br>
<code>#include &lt;algorithm&gt;</code><br>
<code>#include &lt;numeric&gt;</code><br>
<code>#include &lt;functional&gt;</code><br>
<code>#include &lt;cmath&gt;</code><br>
<code>#include &lt;iostream&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for Preprocessor.cpp:</div>
<div class="dynsection">
<p><center><img src="_preprocessor_8cpp__incl.png" border="0" usemap="#Preprocessor.cpp_map" alt=""></center>
<map name="Preprocessor.cpp_map">
<area shape="rect" href="_preprocessor_8hpp.html" title="Declaration of Preprocessor class." alt="" coords="5,82,123,106"></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_preprocessor_8cpp.html#a7214b097e7747018eb2b804469d42e7">computeSonkaOptimalThreshold</a> (const <a class="el" href="class_clip.html">Clip</a> &amp;clip)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the optimal threshold value in a press clip following the Sonka's algorithm.  <a href="#a7214b097e7747018eb2b804469d42e7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_preprocessor_8cpp.html#28529ce4b31b84fd081cab0275e8f36f">computeOtsuOptimalThreshold</a> (const <a class="el" href="class_clip.html">Clip</a> &amp;clip)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the optimal threshold value in a press clip following the Otsu's algorithm.  <a href="#28529ce4b31b84fd081cab0275e8f36f"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="28529ce4b31b84fd081cab0275e8f36f"></a><!-- doxytag: member="Preprocessor.cpp::computeOtsuOptimalThreshold" ref="28529ce4b31b84fd081cab0275e8f36f" args="(const Clip &amp;clip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char computeOtsuOptimalThreshold           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_clip.html">Clip</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>clip</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The strategy proposed by N. Otsu in "A Threshold Selection Method from Gray-Level Histograms" (1979) maximises the likelihood that the threshold is chosen so as to split the image between and object and its background. An optimal threshold is selected by the discriminant criterion, namely, so as to maximize the separability of the resultant classes in gray levels. The procedure is very simple, utilizing only the zeroth- and the first-order cumulative moments of the gray-level histogram.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A unsigned char with the optimal threshold value in a scale of [0,255]. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clip</em>&nbsp;</td><td>The input press clip. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a7214b097e7747018eb2b804469d42e7"></a><!-- doxytag: member="Preprocessor.cpp::computeSonkaOptimalThreshold" ref="a7214b097e7747018eb2b804469d42e7" args="(const Clip &amp;clip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char computeSonkaOptimalThreshold           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_clip.html">Clip</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>clip</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The strategy proposed by M. Sonka, V. Hlavac and R. Boyle in "Image Processing, Analysis and Machine Vision" (2008) is to find a mean value between the mean value of background's gray level and the mean value of objects' gray level, starting from an initial threshold that is computed from the four corners of the press clip. <dl class="return" compact><dt><b>Returns:</b></dt><dd>A unsigned char with the optimal threshold value in a scale of [0,255]. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clip</em>&nbsp;</td><td>The input press clip. </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Mar 16 12:40:45 2009 for NessieOcr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
