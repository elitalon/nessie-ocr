<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Nessie, reconocedor óptico de texto en recortes de prensa escrita: Segmenter Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Segmenter Class Reference</h1><!-- doxytag: class="Segmenter" --><code>#include &lt;<a class="el" href="_segmenter_8hpp-source.html">Segmenter.hpp</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for Segmenter:</div>
<div class="dynsection">
<p><center><img src="class_segmenter__coll__graph.png" border="0" usemap="#_segmenter__coll__map" alt="Collaboration graph"></center>
<map name="_segmenter__coll__map">
<area shape="rect" href="class_shape.html" title="The shape of a character in a press clip." alt="" coords="301,5,429,384"></map>
</div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="class_segmenter.html" title="Segmenter of the OCR process.">Segmenter</a> of the OCR process. 
<p>
This class encapsulates all the methods related to segmentation stage. Its task is to isolate every shape within a clip that represents a character, storing them in a data structure for further classification.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip where the recognizer has to extract the text from.">Clip</a>, <a class="el" href="class_shape.html" title="The shape of a character in a press clip.">Shape</a>, <a class="el" href="_pixel_8hpp.html#535e59456e3e633842529cfa8ea103c4" title="Information about an image pixel.">Pixel</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Talón (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

<p>Definition at line <a class="el" href="_segmenter_8hpp-source.html#l00027">27</a> of file <a class="el" href="_segmenter_8hpp-source.html">Segmenter.hpp</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#d39ec3bda31be180820aa0bdca7b125d">Segmenter</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#d39ec3bda31be180820aa0bdca7b125d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const double &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#52f771c61d667df4f552ee73dc9f22e7">thresholdingTime</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the elapsed time while applying the thresholding algorithm.  <a href="#52f771c61d667df4f552ee73dc9f22e7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const double &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#53761a65661587c45e34988b90401888">shapesFindingTime</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the elapsed time while finding the shapes.  <a href="#53761a65661587c45e34988b90401888"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const std::vector&lt; <a class="el" href="class_shape.html">Shape</a> &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#f2dd7f34c8b0f902323005335e41bd57">shapes</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the shapes found in the last segmentation process.  <a href="#f2dd7f34c8b0f902323005335e41bd57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const unsigned char &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#e9bc56ddcbe5ea4abb40fcc85e3d9fbe">inkValue</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the gray level that represents the ink used in characters.  <a href="#e9bc56ddcbe5ea4abb40fcc85e3d9fbe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#6854315e3320f9d9a8ece14cbb8570ee">applyThreshold</a> (<a class="el" href="class_clip.html">Clip</a> &amp;clip, const unsigned char &amp;threshold, const unsigned char &amp;backgroundReference)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Applies the threshold algorithm.  <a href="#6854315e3320f9d9a8ece14cbb8570ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#465c8e755bb56d247add080a04377520">findShapes</a> (const <a class="el" href="class_clip.html">Clip</a> &amp;clip)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds the shapes in the clip by searching connected pixels.  <a href="#465c8e755bb56d247add080a04377520"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fa6183f99aa6011399783652b341a43b"></a><!-- doxytag: member="Segmenter::inkValue_" ref="fa6183f99aa6011399783652b341a43b" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#fa6183f99aa6011399783652b341a43b">inkValue_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gray level value of the pixels that have ink. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3040cc000907ef44e820ddcf70de6f08"></a><!-- doxytag: member="Segmenter::shapes_" ref="3040cc000907ef44e820ddcf70de6f08" args="" -->
std::vector&lt; <a class="el" href="class_shape.html">Shape</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#3040cc000907ef44e820ddcf70de6f08">shapes_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A set of shapes that represents every character found within the press clip. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="13c768c0dfa734bb6ca0c548511bc7bb"></a><!-- doxytag: member="Segmenter::thresholdingTime_" ref="13c768c0dfa734bb6ca0c548511bc7bb" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#13c768c0dfa734bb6ca0c548511bc7bb">thresholdingTime_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Elapsed time while applying the thresholding algorithm. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ebe750333b882a982362ac18114ce915"></a><!-- doxytag: member="Segmenter::shapesFindingTime_" ref="ebe750333b882a982362ac18114ce915" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_segmenter.html#ebe750333b882a982362ac18114ce915">shapesFindingTime_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Elapsed time while applying the flood fill algorithm. <br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d39ec3bda31be180820aa0bdca7b125d"></a><!-- doxytag: member="Segmenter::Segmenter" ref="d39ec3bda31be180820aa0bdca7b125d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Segmenter::Segmenter           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Talón (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13</dd></dl>
Initializes a <a class="el" href="class_segmenter.html" title="Segmenter of the OCR process.">Segmenter</a> object 
<p>Definition at line <a class="el" href="_segmenter_8cpp-source.html#l00021">21</a> of file <a class="el" href="_segmenter_8cpp-source.html">Segmenter.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="52f771c61d667df4f552ee73dc9f22e7"></a><!-- doxytag: member="Segmenter::thresholdingTime" ref="52f771c61d667df4f552ee73dc9f22e7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double &amp; Segmenter::thresholdingTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the elapsed time while applying the thresholding algorithm. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The elapsed time in seconds</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Talón (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

<p>Definition at line <a class="el" href="_segmenter_8hpp-source.html#l00157">157</a> of file <a class="el" href="_segmenter_8hpp-source.html">Segmenter.hpp</a>.</p>

<p>Referenced by <a class="el" href="_recognizer_8cpp-source.html#l00091">Recognizer::obtainText()</a>.</p>

</div>
</div><p>
<a class="anchor" name="53761a65661587c45e34988b90401888"></a><!-- doxytag: member="Segmenter::shapesFindingTime" ref="53761a65661587c45e34988b90401888" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double &amp; Segmenter::shapesFindingTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the elapsed time while finding the shapes. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The elapsed time in seconds</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Talón (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

<p>Definition at line <a class="el" href="_segmenter_8hpp-source.html#l00167">167</a> of file <a class="el" href="_segmenter_8hpp-source.html">Segmenter.hpp</a>.</p>

<p>Referenced by <a class="el" href="_recognizer_8cpp-source.html#l00091">Recognizer::obtainText()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f2dd7f34c8b0f902323005335e41bd57"></a><!-- doxytag: member="Segmenter::shapes" ref="f2dd7f34c8b0f902323005335e41bd57" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="class_shape.html">Shape</a> &gt; &amp; Segmenter::shapes           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the shapes found in the last segmentation process. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A vector of <a class="el" href="class_shape.html" title="The shape of a character in a press clip.">Shape</a> objects</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_shape.html" title="The shape of a character in a press clip.">Shape</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Talón (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

<p>Definition at line <a class="el" href="_segmenter_8hpp-source.html#l00177">177</a> of file <a class="el" href="_segmenter_8hpp-source.html">Segmenter.hpp</a>.</p>

<p>Referenced by <a class="el" href="_recognizer_8cpp-source.html#l00091">Recognizer::obtainText()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e9bc56ddcbe5ea4abb40fcc85e3d9fbe"></a><!-- doxytag: member="Segmenter::inkValue" ref="e9bc56ddcbe5ea4abb40fcc85e3d9fbe" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char &amp; Segmenter::inkValue           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the gray level that represents the ink used in characters. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Either a value of 0 or 255</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Talón (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-18 </dd></dl>

<p>Definition at line <a class="el" href="_segmenter_8hpp-source.html#l00187">187</a> of file <a class="el" href="_segmenter_8hpp-source.html">Segmenter.hpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="6854315e3320f9d9a8ece14cbb8570ee"></a><!-- doxytag: member="Segmenter::applyThreshold" ref="6854315e3320f9d9a8ece14cbb8570ee" args="(Clip &amp;clip, const unsigned char &amp;threshold, const unsigned char &amp;backgroundReference)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Segmenter::applyThreshold           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_clip.html">Clip</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>clip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char &amp;&nbsp;</td>
          <td class="paramname"> <em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char &amp;&nbsp;</td>
          <td class="paramname"> <em>backgroundReference</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Applies the threshold algorithm. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clip</em>&nbsp;</td><td>Press clip </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>Threshold value to differentiate between back- and foreground pixels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>backgroundReference</em>&nbsp;</td><td>Background reference gray level</td></tr>
  </table>
</dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>Every pixel has either a gray level of 0 or 255. <p>
The <a class="el" href="class_segmenter.html#fa6183f99aa6011399783652b341a43b" title="Gray level value of the pixels that have ink.">inkValue_</a> member is initialized to the gray level that represents the ink's gray level</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip where the recognizer has to extract the text from.">Clip</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Talón (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13</dd></dl>
Simple thresholding that compares each pixel's gray level with a threshold value. The background reference gray level is taken into account to decide the final gray level that must be applied to the pixel. 
<p>Definition at line <a class="el" href="_segmenter_8cpp-source.html#l00036">36</a> of file <a class="el" href="_segmenter_8cpp-source.html">Segmenter.cpp</a>.</p>

<p>Referenced by <a class="el" href="_recognizer_8cpp-source.html#l00091">Recognizer::obtainText()</a>.</p>

</div>
</div><p>
<a class="anchor" name="465c8e755bb56d247add080a04377520"></a><!-- doxytag: member="Segmenter::findShapes" ref="465c8e755bb56d247add080a04377520" args="(const Clip &amp;clip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Segmenter::findShapes           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_clip.html">Clip</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>clip</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds the shapes in the clip by searching connected pixels. 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>The clip MUST be thresholded by calling <a class="el" href="class_segmenter.html#6854315e3320f9d9a8ece14cbb8570ee" title="Applies the threshold algorithm.">applyThreshold()</a> method before.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>The <a class="el" href="class_segmenter.html#3040cc000907ef44e820ddcf70de6f08" title="A set of shapes that represents every character found within the press clip.">shapes_</a> member is initialized with the shapes that represents character within the clip.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clip</em>&nbsp;</td><td>The press clip</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip where the recognizer has to extract the text from.">Clip</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Talón (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-21</dd></dl>
This method follows a strategy similar to the 'flood fill' algorithm. The main target is to isolate every shape in a clip that represents a character. Every shape is built starting from an ink pixel (a seed) and exploring its neighbourhood looking for connected pixels. The process ends when there are not more seeds to explore and the shapes are completely isolated. 
<p>Definition at line <a class="el" href="_segmenter_8cpp-source.html#l00085">85</a> of file <a class="el" href="_segmenter_8cpp-source.html">Segmenter.cpp</a>.</p>

<p>Referenced by <a class="el" href="_recognizer_8cpp-source.html#l00091">Recognizer::obtainText()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_segmenter_8hpp-source.html">Segmenter.hpp (151)</a><li><a class="el" href="_segmenter_8cpp-source.html">Segmenter.cpp (152)</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Oct 21 16:36:03 2008 for Nessie, reconocedor óptico de texto en recortes de prensa escrita by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
