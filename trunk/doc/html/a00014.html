<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NessieOcr: NessieOcr Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>NessieOcr Class Reference</h1><!-- doxytag: class="NessieOcr" -->Manager of the optical character recognition process.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="a00080.html">NessieOcr.hpp</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for NessieOcr:</div>
<div class="dynsection">
<p><center><img src="a00210.png" border="0" usemap="#a00211" alt="Collaboration graph"></center>
<map name="a00211">
<area shape="rect" href="a00022.html" title="Text extracted from a press clip after character recognition." alt="" coords="165,5,339,301"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="a00212.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="38b73367c74767bdec9986c0cd119d4d"></a><!-- doxytag: member="NessieOcr::NessieOcr" ref="38b73367c74767bdec9986c0cd119d4d" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00014.html#38b73367c74767bdec9986c0cd119d4d">NessieOcr</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1ec62ac7f69401516018fac35593e816"></a><!-- doxytag: member="NessieOcr::~NessieOcr" ref="1ec62ac7f69401516018fac35593e816" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00014.html#1ec62ac7f69401516018fac35593e816">~NessieOcr</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a00022.html">Text</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00014.html#106ae2ac39507a688628bd1a6f8c815d">recognize</a> (const Magick::Image &amp;page, const unsigned int &amp;x, const unsigned int &amp;y, const unsigned int &amp;height, const unsigned int &amp;width, const std::auto_ptr&lt; <a class="el" href="a00002.html">Classifier</a> &gt; &amp;classifier)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract the text from a press clip.  <a href="#106ae2ac39507a688628bd1a6f8c815d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00014.html#be23e4db05523dd61697b2837ef86265">train</a> (const std::auto_ptr&lt; <a class="el" href="a00002.html">Classifier</a> &gt; &amp;classifier, const Magick::Image &amp;page, const unsigned int &amp;x, const unsigned int &amp;y, const unsigned int &amp;height, const unsigned int &amp;width, const std::string &amp;text)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Train a classifier according to a reference set of characters.  <a href="#be23e4db05523dd61697b2837ef86265"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00014.html#cf9bec5540816ae8fc872baef8340297">train</a> (const std::auto_ptr&lt; <a class="el" href="a00002.html">Classifier</a> &gt; &amp;classifier, const Magick::Image &amp;pattern, const unsigned int &amp;asciiCode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Train a classifier according to a reference pattern and its ASCII code.  <a href="#cf9bec5540816ae8fc872baef8340297"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00014.html#0b571117c702a32c851a07baa7e3c965">exportPatternImages</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Export the patterns that have been built after a recognition or training stage.  <a href="#0b571117c702a32c851a07baa7e3c965"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4238fabd5c03487eb98e9b6c2a48f737"></a><!-- doxytag: member="NessieOcr::printStatistics" ref="4238fabd5c03487eb98e9b6c2a48f737" args="() const " -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00014.html#4238fabd5c03487eb98e9b6c2a48f737">printStatistics</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print statistical data to standard output. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Manager of the optical character recognition process. 
<p>
A pattern recognition system typically involves four stages: preprocessing, feature extraction, classification and postprocessing. This class inhibits a client program to manage the execution and outcomes of every stage. Instead, a common set of operations are provided to satisfy most clients. If it's not enough for your needs, a client can always use directly each one of the subsystems that compose <a class="el" href="a00014.html" title="Manager of the optical character recognition process.">NessieOcr</a>: preprocessing, feature extraction, classification and postprocessing.<p>
As the first important step, image and data <em>preprocessing</em> serves the purpose of extracting regions of interest, enhancing and cleaning up the images, so that they can be directly and efficiently processed by the feature extraction stage. This subsystem is managed through the <a class="el" href="a00018.html" title="Preprocessor of NessieOcr.">Preprocessor</a> class.<p>
The purpose of <em>feature extraction</em> is the measurement of those attributes of patterns that are most pertinent to a given classification task, producing a feature vector for each pattern extracted in the preprocessing stage. This subsystem is managed through the <a class="el" href="a00007.html" title="FeatureExtractor of the OCR process.">FeatureExtractor</a> class.<p>
The <em>classification</em> stage processes the feature vectors to identify the characters. The feature vectors of input patterns are mapped onto points in a feature space. Depending on the location of these points the patterns are classified as one character or another. This subsystem is managed through the <a class="el" href="a00002.html" title="Classifier of the OCR process.">Classifier</a> class and its derived classes. As you can see below, a <a class="el" href="a00002.html" title="Classifier of the OCR process.">Classifier</a> object is actually a parameter you should specify in NessieOcr's constructor.<p>
In the end, <em>postprocessing</em> builds a meaningful text by inserting blank spaces between characters to separate the words. Management of this subsystem is not supported currently.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="a00021.html" title="Statistics gathered during NessieOcr execution stages.">Statistics</a>, <a class="el" href="a00018.html" title="Preprocessor of NessieOcr.">Preprocessor</a>, <a class="el" href="a00007.html" title="FeatureExtractor of the OCR process.">FeatureExtractor</a>, <a class="el" href="a00002.html" title="Classifier of the OCR process.">Classifier</a></dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Improve the usability of supervised training methods. <p>
Create a namespace and avoid access to private classes.</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer Tal√≥n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-12-29 </dd></dl>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="0b571117c702a32c851a07baa7e3c965"></a><!-- doxytag: member="NessieOcr::exportPatternImages" ref="0b571117c702a32c851a07baa7e3c965" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NessieOcr::exportPatternImages           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Export the patterns that have been built after a recognition or training stage. 
<p>
For each pattern found in the preprocessing stage, this method creates a new BMP image in the filesystem, using the Magick++ library support. 
</div>
</div><p>
<a class="anchor" name="106ae2ac39507a688628bd1a6f8c815d"></a><!-- doxytag: member="NessieOcr::recognize" ref="106ae2ac39507a688628bd1a6f8c815d" args="(const Magick::Image &amp;page, const unsigned int &amp;x, const unsigned int &amp;y, const unsigned int &amp;height, const unsigned int &amp;width, const std::auto_ptr&lt; Classifier &gt; &amp;classifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00022.html">Text</a> &amp; NessieOcr::recognize           </td>
          <td>(</td>
          <td class="paramtype">const Magick::Image &amp;&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::auto_ptr&lt; <a class="el" href="a00002.html">Classifier</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>classifier</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Extract the text from a press clip. 
<p>
This method executes sequentially every recognition stage: preprocessing, feature extraction, classification and postprocessing.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>page</em>&nbsp;</td><td>Underlying image representing a newspaper page. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>X-axis coordinate of the row where the top leftmost pixel of the press clip is in the page. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Y-axis coordinate of the column where the top leftmost pixel of the press clip is in the page. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>Height of the press clip in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>Width of the press clip in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>classifier</em>&nbsp;</td><td><a class="el" href="a00002.html" title="Classifier of the OCR process.">Classifier</a> that must be used in the classification stage.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A <a class="el" href="a00022.html" title="Text extracted from a press clip after character recognition.">Text</a> object with the extracted text.</dd></dl>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd><em>classifier</em> is not copied but only used internally. Be careful when using threads. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cf9bec5540816ae8fc872baef8340297"></a><!-- doxytag: member="NessieOcr::train" ref="cf9bec5540816ae8fc872baef8340297" args="(const std::auto_ptr&lt; Classifier &gt; &amp;classifier, const Magick::Image &amp;pattern, const unsigned int &amp;asciiCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NessieOcr::train           </td>
          <td>(</td>
          <td class="paramtype">const std::auto_ptr&lt; <a class="el" href="a00002.html">Classifier</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>classifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Magick::Image &amp;&nbsp;</td>
          <td class="paramname"> <em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>asciiCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Train a classifier according to a reference pattern and its ASCII code. 
<p>
This method performs an automatic training of a classifier, comparing a single pattern with an ASCII code. The pattern must have <a class="el" href="a00015.html" title="Set of pixels that defines a pattern to be recognized as a character in classification...">Pattern</a>:planeSize() height and width, and must have been previously extracted from a press clip, probably calling <a class="el" href="a00014.html#106ae2ac39507a688628bd1a6f8c815d" title="Extract the text from a press clip.">NessieOcr::recognize</a> and then <a class="el" href="a00014.html#0b571117c702a32c851a07baa7e3c965" title="Export the patterns that have been built after a recognition or training stage.">NessieOcr::exportPatternImages</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>classifier</em>&nbsp;</td><td><a class="el" href="a00002.html" title="Classifier of the OCR process.">Classifier</a> that must be used in the classification stage. The KNN classifier with K=1 is the default option. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pattern</em>&nbsp;</td><td>Underlying image representing a pattern. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>asciiCode</em>&nbsp;</td><td>Reference ASCII code to compare with the classification result.</td></tr>
  </table>
</dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>The dataset handled by <em>classifier</em> is updated according to the training decisions. </dd></dl>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd><em>classifier</em> is not copied but only used internally. Be careful when using threads. </dd></dl>

</div>
</div><p>
<a class="anchor" name="be23e4db05523dd61697b2837ef86265"></a><!-- doxytag: member="NessieOcr::train" ref="be23e4db05523dd61697b2837ef86265" args="(const std::auto_ptr&lt; Classifier &gt; &amp;classifier, const Magick::Image &amp;page, const unsigned int &amp;x, const unsigned int &amp;y, const unsigned int &amp;height, const unsigned int &amp;width, const std::string &amp;text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NessieOcr::train           </td>
          <td>(</td>
          <td class="paramtype">const std::auto_ptr&lt; <a class="el" href="a00002.html">Classifier</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>classifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Magick::Image &amp;&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>text</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Train a classifier according to a reference set of characters. 
<p>
This method performs an automatic training of a classifier, comparing the set of characters previously extracted from a press clip with a reference text.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>classifier</em>&nbsp;</td><td><a class="el" href="a00002.html" title="Classifier of the OCR process.">Classifier</a> that must be used in the classification stage. The KNN classifier with K=1 is the default option. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>page</em>&nbsp;</td><td>Underlying image representing a newspaper page. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>X-axis coordinate of the row where the top leftmost pixel of the press clip is in the page. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Y-axis coordinate of the column where the top leftmost pixel of the press clip is in the page. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>Height of the press clip in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>Width of the press clip in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>A text to compare with the classification results.</td></tr>
  </table>
</dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>The dataset handled by <em>classifier</em> is updated according to the training decisions. </dd></dl>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd><em>classifier</em> is not copied but only used internally. Be careful when using threads. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jun 13 14:28:55 2009 for NessieOcr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
