<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Nessie, reconocedor Ã³ptico de texto en recortes de prensa escrita: Preprocessor Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Preprocessor Class Reference</h1><!-- doxytag: class="Preprocessor" --><a class="el" href="class_preprocessor.html" title="Preprocessor of the OCR process.">Preprocessor</a> of the OCR process.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_preprocessor_8hpp-source.html">Preprocessor.hpp</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for Preprocessor:</div>
<div class="dynsection">
<p><center><img src="class_preprocessor__coll__graph.png" border="0" usemap="#_preprocessor__coll__map" alt="Collaboration graph"></center>
<map name="_preprocessor__coll__map">
<area shape="rect" href="class_shape.html" title="The shape of a character in a press clip." alt="" coords="81,181,276,629"><area shape="rect" href="class_clip.html" title="Press clip in which a newspaper&#39;s is divided." alt="" coords="256,725,440,1029"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="class_preprocessor-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#d5bdc15c2c4ad5e638a82926fcaa45c1">Preprocessor</a> (const <a class="el" href="class_clip.html">Clip</a> &amp;pressClip)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#d5bdc15c2c4ad5e638a82926fcaa45c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const unsigned char &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#a44dff024a5b29752780bd4aa0d53d81">optimalThreshold</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the optimal threshold found in the last clip used.  <a href="#a44dff024a5b29752780bd4aa0d53d81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#1fc44d7d19944f3c3addd3a576c37414">optimalThreshold</a> (const unsigned char &amp;threshold)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the optimal threshold to use in algorithms.  <a href="#1fc44d7d19944f3c3addd3a576c37414"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const unsigned char &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#b435116619b7b254d9e788476c012e8a">backgroundReferenceGrayLevel</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the background reference gray level in the last clip used.  <a href="#b435116619b7b254d9e788476c012e8a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#03340329e31bd1f01ace27d77b5616ef">backgroundReferenceGrayLevel</a> (const unsigned char &amp;grayLevel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the background reference gray level in the last clip used.  <a href="#03340329e31bd1f01ace27d77b5616ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const double &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#e54e2a5703a0f39ddff8e9936f9a2275">noiseRemovalTime</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the elapsed time while applying the 'isolated noise removal' algorithm.  <a href="#e54e2a5703a0f39ddff8e9936f9a2275"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const double &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#2bd63a7e7aba300ddf79b2c956e943e9">optimalThresholdComputingTime</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the elapsed time while founding the optimal threshold within the clip.  <a href="#2bd63a7e7aba300ddf79b2c956e943e9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const double &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#2cb04f2116b4afc783ff070026bc1297">backgroundReferenceGrayLevelFindingTime</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the elapsed time while computing the background reference gray level within the clip.  <a href="#2cb04f2116b4afc783ff070026bc1297"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const unsigned char &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#5f96aa29e26e112aaef66d7787335160">computeOptimalThreshold</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the optimal threshold value in a clip following the Sonka's technique.  <a href="#5f96aa29e26e112aaef66d7787335160"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const unsigned char &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#b2d595c32425a9882c80fc492f08a515">findBackgroundReferenceGrayLevel</a> (const unsigned int &amp;referenceGrayLevelNeighbours=2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the background reference gray level value within a clip.  <a href="#b2d595c32425a9882c80fc492f08a515"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#8b7366ceca05da9c858b4c2a908cd0fb">removeIsolatedNoise</a> (const unsigned int &amp;isolationCoefficient=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Applies the 'isolated noise removal' algorithm.  <a href="#8b7366ceca05da9c858b4c2a908cd0fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#7df8257fb4911badefc7fd466c65d74d">applyThreshold</a> (const unsigned char &amp;threshold, const unsigned char &amp;backgroundReference)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Applies a thresholding algorithm.  <a href="#7df8257fb4911badefc7fd466c65d74d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#7ff6bd8ac85ee195b810a898fad7403f">findShapes</a> (const <a class="el" href="class_clip.html">Clip</a> &amp;clip)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds a list of isolated shapes in the press clip by joining connected pixels.  <a href="#7ff6bd8ac85ee195b810a898fad7403f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const std::list&lt; <a class="el" href="class_shape.html">Shape</a> &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#87509b907b6e6fa938f1565a667aef00">shapes</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the shapes found in the last segmentation process.  <a href="#87509b907b6e6fa938f1565a667aef00"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preprocessor.html#544805d1578d7703037faf040097c241">findSpaceLocations</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds every position in the list of shapes where a blank space must be inserted when building the text.  <a href="#544805d1578d7703037faf040097c241"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="class_preprocessor.html" title="Preprocessor of the OCR process.">Preprocessor</a> of the OCR process. 
<p>
This class encapsulates all the algorithms related to preprocessing stage of the OCR process. Its task is to enhance the image quality by applying some techniques of image processing theory and compute a number of parameters such as the optimal thresolding value or the background reference gray level.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip in which a newspaper&#39;s is divided.">Clip</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-11 </dd></dl>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d5bdc15c2c4ad5e638a82926fcaa45c1"></a><!-- doxytag: member="Preprocessor::Preprocessor" ref="d5bdc15c2c4ad5e638a82926fcaa45c1" args="(const Clip &amp;pressClip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Preprocessor::Preprocessor           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_clip.html">Clip</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pressClip</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-08 </dd></dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7df8257fb4911badefc7fd466c65d74d"></a><!-- doxytag: member="Preprocessor::applyThreshold" ref="7df8257fb4911badefc7fd466c65d74d" args="(const unsigned char &amp;threshold, const unsigned char &amp;backgroundReference)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Preprocessor::applyThreshold           </td>
          <td>(</td>
          <td class="paramtype">const unsigned char &amp;&nbsp;</td>
          <td class="paramname"> <em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char &amp;&nbsp;</td>
          <td class="paramname"> <em>backgroundReference</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Applies a thresholding algorithm. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clip</em>&nbsp;</td><td>A press clip. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>A threshold value to differentiate between background and foreground pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>backgroundReference</em>&nbsp;</td><td>Background reference gray level.</td></tr>
  </table>
</dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>Every pixel in the clip has either a gray level of 0 or 1. <p>
The inkValue_ member is initialized to the gray level that represents the ink's gray level of the press clip.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip in which a newspaper&#39;s is divided.">Clip</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13</dd></dl>
This method implements a simple thresholding algorithm that compares each pixel's gray level with a threshold value. The background reference gray level is taken into account to decide the final gray level that is applied to the pixel, so that the ink value is assumed as the very opposite gray level of background reference. 
<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_preprocessor_7df8257fb4911badefc7fd466c65d74d_cgraph.png" border="0" usemap="#class_preprocessor_7df8257fb4911badefc7fd466c65d74d_cgraph_map" alt=""></center>
<map name="class_preprocessor_7df8257fb4911badefc7fd466c65d74d_cgraph_map">
<area shape="rect" href="class_clip.html#939908a8dde602d25335792cc0fd5d97" title="Returns the height of the clip." alt="" coords="268,5,361,32"><area shape="rect" href="class_clip.html#88d1a47c0ec077e8c6680785509389b0" title="Returns the width of the clip." alt="" coords="271,56,359,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="03340329e31bd1f01ace27d77b5616ef"></a><!-- doxytag: member="Preprocessor::backgroundReferenceGrayLevel" ref="03340329e31bd1f01ace27d77b5616ef" args="(const unsigned char &amp;grayLevel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Preprocessor::backgroundReferenceGrayLevel           </td>
          <td>(</td>
          <td class="paramtype">const unsigned char &amp;&nbsp;</td>
          <td class="paramname"> <em>grayLevel</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the background reference gray level in the last clip used. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>grayLevel</em>&nbsp;</td><td>Value between 0 and 255 that stablishes the reference background gray level in the clip</td></tr>
  </table>
</dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-12-15 </dd></dl>

</div>
</div><p>
<a class="anchor" name="b435116619b7b254d9e788476c012e8a"></a><!-- doxytag: member="Preprocessor::backgroundReferenceGrayLevel" ref="b435116619b7b254d9e788476c012e8a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char &amp; Preprocessor::backgroundReferenceGrayLevel           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the background reference gray level in the last clip used. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Reference background gray level in the last clip used</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

</div>
</div><p>
<a class="anchor" name="2cb04f2116b4afc783ff070026bc1297"></a><!-- doxytag: member="Preprocessor::backgroundReferenceGrayLevelFindingTime" ref="2cb04f2116b4afc783ff070026bc1297" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double &amp; Preprocessor::backgroundReferenceGrayLevelFindingTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the elapsed time while computing the background reference gray level within the clip. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Elapsed time while computing the background reference gray level</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_preprocessor.html#b2d595c32425a9882c80fc492f08a515" title="Computes the background reference gray level value within a clip.">findBackgroundReferenceGrayLevel()</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

</div>
</div><p>
<a class="anchor" name="5f96aa29e26e112aaef66d7787335160"></a><!-- doxytag: member="Preprocessor::computeOptimalThreshold" ref="5f96aa29e26e112aaef66d7787335160" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char &amp; Preprocessor::computeOptimalThreshold           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the optimal threshold value in a clip following the Sonka's technique. 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>You MUST call <a class="el" href="class_preprocessor.html#b2d595c32425a9882c80fc492f08a515" title="Computes the background reference gray level value within a clip.">findBackgroundReferenceGrayLevel()</a> method before calling this one, since it sets internal attributes.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>The optimalThresholdComputingTime_ member is modified. <p>
The optimalThreshold_ member is initialized to the threshold found</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clip</em>&nbsp;</td><td>The clip where applying the algorithm over</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip in which a newspaper&#39;s is divided.">Clip</a></dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The optimal threshold of the clip</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-20</dd></dl>
The strategy proposed by M. Sonka, V. Hlavac and R. Boyle in "Image Processing, Analysis and Machine Vision" (Thomson Learning, 2008) is to find a mean value between the mean value of background's gray level and the mean value of objects' gray level, starting from an initial threshold value that is given by the member backgroundReferenceGrayLevel_. 
<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_preprocessor_5f96aa29e26e112aaef66d7787335160_cgraph.png" border="0" usemap="#class_preprocessor_5f96aa29e26e112aaef66d7787335160_cgraph_map" alt=""></center>
<map name="class_preprocessor_5f96aa29e26e112aaef66d7787335160_cgraph_map">
<area shape="rect" href="class_clip.html#939908a8dde602d25335792cc0fd5d97" title="Returns the height of the clip." alt="" coords="343,5,436,32"><area shape="rect" href="class_clip.html#eb6b12a1a0570b529d6a09633b991fcd" title="Returns the number of pixels in the clip." alt="" coords="351,56,428,83"><area shape="rect" href="class_clip.html#88d1a47c0ec077e8c6680785509389b0" title="Returns the width of the clip." alt="" coords="345,107,433,133"></map>
</div>

</div>
</div><p>
<a class="anchor" name="b2d595c32425a9882c80fc492f08a515"></a><!-- doxytag: member="Preprocessor::findBackgroundReferenceGrayLevel" ref="b2d595c32425a9882c80fc492f08a515" args="(const unsigned int &amp;referenceGrayLevelNeighbours=2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char &amp; Preprocessor::findBackgroundReferenceGrayLevel           </td>
          <td>(</td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceGrayLevelNeighbours</em> = <code>2</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the background reference gray level value within a clip. 
<p>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>The backgroundReferenceGrayLevelFindingTime_ member is modified.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clip</em>&nbsp;</td><td>The clip where applying the algorithm over </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>referenceGrayLevelNeighbours</em>&nbsp;</td><td>Number of neighbours of the more frequent gray level to explore on each direction</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip in which a newspaper&#39;s is divided.">Clip</a></dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The reference gray level of the background</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13</dd></dl>
To find the reference gray level of the background it is assumed that there are more pixels belonging to the background than belonging to the foreground. Then, we search the more frequent gray level and its neighbours. Finally, we compute a gray level weighted mean using all those values.<p>
<dl compact><dt><b><a class="el" href="bug.html#_bug000001">Bug:</a></b></dt><dd>There are cases where the reference gray level found does not match with the real background gray level, because the assumption made about the background's number of pixels is false. An alternative may be to find two reference gray levels; if the classification process does not work, everything must be undone and start again with the second reference gray level. </dd></dl>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_preprocessor_b2d595c32425a9882c80fc492f08a515_cgraph.png" border="0" usemap="#class_preprocessor_b2d595c32425a9882c80fc492f08a515_cgraph_map" alt=""></center>
<map name="class_preprocessor_b2d595c32425a9882c80fc492f08a515_cgraph_map">
<area shape="rect" href="class_clip.html#939908a8dde602d25335792cc0fd5d97" title="Returns the height of the clip." alt="" coords="404,5,497,32"><area shape="rect" href="class_clip.html#88d1a47c0ec077e8c6680785509389b0" title="Returns the width of the clip." alt="" coords="407,56,495,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7ff6bd8ac85ee195b810a898fad7403f"></a><!-- doxytag: member="Preprocessor::findShapes" ref="7ff6bd8ac85ee195b810a898fad7403f" args="(const Clip &amp;clip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Preprocessor::findShapes           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_clip.html">Clip</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>clip</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds a list of isolated shapes in the press clip by joining connected pixels. 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>The clip MUST be thresholded by calling <a class="el" href="class_preprocessor.html#7df8257fb4911badefc7fd466c65d74d" title="Applies a thresholding algorithm.">applyThreshold()</a> method before.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>seeds_ contains the seeds that grew into the shapes. <p>
visited_ contains the positions of the seeds set to true. <p>
shapes_ contains the shapes that represents character within the clip. <p>
shapes_ is sorted according with the position of characters in text</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clip</em>&nbsp;</td><td>The press clip</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip in which a newspaper&#39;s is divided.">Clip</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-21</dd></dl>
This method isolates every shape in a press clip by connecting pixels of ink that are located together in a 3x3 neighbourhood. The shapes may contain a subset of shapes, since further processing is applied to join accents and other punctuation signs to their characters. The final list of shapes is sorted by lines and columns, so that traversing the list is equivalent to read the text from left to right and from up to down. 
</div>
</div><p>
<a class="anchor" name="544805d1578d7703037faf040097c241"></a><!-- doxytag: member="Preprocessor::findSpaceLocations" ref="544805d1578d7703037faf040097c241" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Preprocessor::findSpaceLocations           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds every position in the list of shapes where a blank space must be inserted when building the text. 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>shapes_ must be sorted according with the position of characters in text.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>spaceLocations_ contains indexes to shapes_.</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-31</dd></dl>
In order to find th spaces between words it is assumed that the mean inter-character space is always less than the mean inter-word space. Once the mean inter-character space is computed, a simple searching for each line gives the location of every space between words. 
</div>
</div><p>
<a class="anchor" name="e54e2a5703a0f39ddff8e9936f9a2275"></a><!-- doxytag: member="Preprocessor::noiseRemovalTime" ref="e54e2a5703a0f39ddff8e9936f9a2275" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double &amp; Preprocessor::noiseRemovalTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the elapsed time while applying the 'isolated noise removal' algorithm. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Elapsed time when applying the 'isolated noise removal' algorithm</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_preprocessor.html#8b7366ceca05da9c858b4c2a908cd0fb" title="Applies the &#39;isolated noise removal&#39; algorithm.">removeIsolatedNoise()</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

</div>
</div><p>
<a class="anchor" name="1fc44d7d19944f3c3addd3a576c37414"></a><!-- doxytag: member="Preprocessor::optimalThreshold" ref="1fc44d7d19944f3c3addd3a576c37414" args="(const unsigned char &amp;threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Preprocessor::optimalThreshold           </td>
          <td>(</td>
          <td class="paramtype">const unsigned char &amp;&nbsp;</td>
          <td class="paramname"> <em>threshold</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the optimal threshold to use in algorithms. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>Value between 0 and 255 that stablishes the optimal threshold of a clip.</td></tr>
  </table>
</dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-08 </dd></dl>

</div>
</div><p>
<a class="anchor" name="a44dff024a5b29752780bd4aa0d53d81"></a><!-- doxytag: member="Preprocessor::optimalThreshold" ref="a44dff024a5b29752780bd4aa0d53d81" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char &amp; Preprocessor::optimalThreshold           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the optimal threshold found in the last clip used. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Optimal threshold computed from the last clip used.</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

</div>
</div><p>
<a class="anchor" name="2bd63a7e7aba300ddf79b2c956e943e9"></a><!-- doxytag: member="Preprocessor::optimalThresholdComputingTime" ref="2bd63a7e7aba300ddf79b2c956e943e9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double &amp; Preprocessor::optimalThresholdComputingTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the elapsed time while founding the optimal threshold within the clip. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Elapsed time while founding the optimal threshold within the clip</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_preprocessor.html#5f96aa29e26e112aaef66d7787335160" title="Computes the optimal threshold value in a clip following the Sonka&#39;s technique...">computeOptimalThreshold()</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

</div>
</div><p>
<a class="anchor" name="8b7366ceca05da9c858b4c2a908cd0fb"></a><!-- doxytag: member="Preprocessor::removeIsolatedNoise" ref="8b7366ceca05da9c858b4c2a908cd0fb" args="(const unsigned int &amp;isolationCoefficient=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Preprocessor::removeIsolatedNoise           </td>
          <td>(</td>
          <td class="paramtype">const unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>isolationCoefficient</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Applies the 'isolated noise removal' algorithm. 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>You MUST call <a class="el" href="class_preprocessor.html#5f96aa29e26e112aaef66d7787335160" title="Computes the optimal threshold value in a clip following the Sonka&#39;s technique...">computeOptimalThreshold()</a> and <a class="el" href="class_preprocessor.html#b2d595c32425a9882c80fc492f08a515" title="Computes the background reference gray level value within a clip.">findBackgroundReferenceGrayLevel()</a> methods before calling this one, since they set internal attributes.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>The clip may be modified if any noise is found.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>clip</em>&nbsp;</td><td>The clip where applying the algorithm over </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>isolationCoefficient</em>&nbsp;</td><td>The maximum noisy neighbours for a pixel to consider it as isolated</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_clip.html" title="Press clip in which a newspaper&#39;s is divided.">Clip</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-11</dd></dl>
The 'isolated noise removal' algorithm tries to eliminate isolated noisy pixels from an clip. The isolationCoefficient parameter defines how much isolated should be a noisy pixel to be removed. That means a noisy pixel will be removed whenever it has as much neighbours whose gray level is over a threshold value as isolationCoefficient. 
<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_preprocessor_8b7366ceca05da9c858b4c2a908cd0fb_cgraph.png" border="0" usemap="#class_preprocessor_8b7366ceca05da9c858b4c2a908cd0fb_cgraph_map" alt=""></center>
<map name="class_preprocessor_8b7366ceca05da9c858b4c2a908cd0fb_cgraph_map">
<area shape="rect" href="class_clip.html#939908a8dde602d25335792cc0fd5d97" title="Returns the height of the clip." alt="" coords="305,5,399,32"><area shape="rect" href="class_clip.html#88d1a47c0ec077e8c6680785509389b0" title="Returns the width of the clip." alt="" coords="308,56,396,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="87509b907b6e6fa938f1565a667aef00"></a><!-- doxytag: member="Preprocessor::shapes" ref="87509b907b6e6fa938f1565a667aef00" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::list&lt; <a class="el" href="class_shape.html">Shape</a> &gt; &amp; Preprocessor::shapes           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the shapes found in the last segmentation process. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A vector of <a class="el" href="class_shape.html" title="The shape of a character in a press clip.">Shape</a> objects</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_shape.html" title="The shape of a character in a press clip.">Shape</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eliezer TalÃ³n (<a href="mailto:elitalon@gmail.com">elitalon@gmail.com</a>) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2008-10-13 </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Dec 29 19:21:20 2008 for Nessie, reconocedor Ã³ptico de texto en recortes de prensa escrita by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
